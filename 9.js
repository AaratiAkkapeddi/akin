

let archive_images = [
    "COIMBATORE_9A_R DASEN STUDIO_2016_00002.png",
    "KARAIKUDI_3A_SUNDRAM STUDIO_2015_00001.png",
    "MADURAI_1A_VICTORIA STUDIO_2015_00001.png",
    "MADURAI_1A_VICTORIA STUDIO_2015_00026.png",
    "MISCELLANEOUS_M8_2015_00007.png",
    "MISCELLANEOUS_M8_2015_00027.png",
    "MISCELLANEOUS_M8_2015_00029.png",
    "MISCELLANEOUS_M8_2015_00126.png",
    "NAGAPATTINAM_12A_G V NAIDU & SONS STUDIO STUDIO_2015_00001.png",
    "Scan_94.png",
    "THANJAVUR_13A_NAVAKODI STUDIO_2015_00002.png",
    "THOOTHUKUDI_14A_NEWTONE STUDIO_2015_00001.png",
    "image3.png",
    "seenu5.png",
]
let ogtext = "<h1>Children posing with an object for support, usually a side table with flowers.</h1><p>Composite of 14 photographs, 11 of them from the stars.archive and 3 from the artist’s family albums. Images include those from R. Dasen Studio in Coimbatore, Sundram Studio in Karaikudi, Victoria Studio in Madurai, Naidu & Sons Studio in Nagapattinam, Navakodi Studio in Thanjavur and Newtone Studio in Thoothukudi and others from unidentified sources.<br><br>“This archetype is actually not unique to Tamil photography. It points to longer exposure times where accessories, such as furniture, became a way to stabilize the subject. The objects themselves are interesting in that some in this cluster use ‘neoclassical’ backdrops such as pillars or carved wooden tables, but some are மோடா, a type of stool made from bamboo, or other rattan furniture.”</p>"
let text = [
    "<h1>Children posing with an object for support, usually a side table with flowers.</h1><p>Composite of 14 photographs, 11 of them from the stars.archive and 3 from the artist’s family albums. Images include those from R. Dasen Studio in Coimbatore, Sundram Studio in Karaikudi, Victoria Studio in Madurai, Naidu & Sons Studio in Nagapattinam, Navakodi Studio in Thanjavur and Newtone Studio in Thoothukudi and others from unidentified sources.<br><br>“This archetype is actually not unique to Tamil photography. It points to longer exposure times where accessories, such as furniture, became a way to stabilize the subject. The objects themselves are interesting in that some in this cluster use ‘neoclassical’ backdrops such as pillars or carved wooden tables, but some are மோடா, a type of stool made from bamboo, or other rattan furniture.”</p><h1>R. Dasen Studio</h1><p>Karaikudi, Tamil Nadu.</p>",
    "<h1>Children posing with an object for support, usually a side table with flowers.</h1><p>Composite of 14 photographs, 11 of them from the stars.archive and 3 from the artist’s family albums. Images include those from R. Dasen Studio in Coimbatore, Sundram Studio in Karaikudi, Victoria Studio in Madurai, Naidu & Sons Studio in Nagapattinam, Navakodi Studio in Thanjavur and Newtone Studio in Thoothukudi and others from unidentified sources.<br><br>“This archetype is actually not unique to Tamil photography. It points to longer exposure times where accessories, such as furniture, became a way to stabilize the subject. The objects themselves are interesting in that some in this cluster use ‘neoclassical’ backdrops such as pillars or carved wooden tables, but some are மோடா, a type of stool made from bamboo, or other rattan furniture.”</p><h1>Sundram Studio</h1><p>Karaikudi, Tamil Nadu.<br><br>This child is wearing கண்மை (eyeliner).</p>",
    "<h1>Children posing with an object for support, usually a side table with flowers.</h1><p>Composite of 14 photographs, 11 of them from the stars.archive and 3 from the artist’s family albums. Images include those from R. Dasen Studio in Coimbatore, Sundram Studio in Karaikudi, Victoria Studio in Madurai, Naidu & Sons Studio in Nagapattinam, Navakodi Studio in Thanjavur and Newtone Studio in Thoothukudi and others from unidentified sources.<br><br>“This archetype is actually not unique to Tamil photography. It points to longer exposure times where accessories, such as furniture, became a way to stabilize the subject. The objects themselves are interesting in that some in this cluster use ‘neoclassical’ backdrops such as pillars or carved wooden tables, but some are மோடா, a type of stool made from bamboo, or other rattan furniture.”</p><h1>Victoria Studio</h1><p>Madurai, Tamil Nadu.</p>",
    "<h1>Children posing with an object for support, usually a side table with flowers.</h1><p>Composite of 14 photographs, 11 of them from the stars.archive and 3 from the artist’s family albums. Images include those from R. Dasen Studio in Coimbatore, Sundram Studio in Karaikudi, Victoria Studio in Madurai, Naidu & Sons Studio in Nagapattinam, Navakodi Studio in Thanjavur and Newtone Studio in Thoothukudi and others from unidentified sources.<br><br>“This archetype is actually not unique to Tamil photography. It points to longer exposure times where accessories, such as furniture, became a way to stabilize the subject. The objects themselves are interesting in that some in this cluster use ‘neoclassical’ backdrops such as pillars or carved wooden tables, but some are மோடா, a type of stool made from bamboo, or other rattan furniture.”</p><h1>Victoria Studio</h1><p>Madurai, Tamil Nadu.</p>",
    "<h1>Children posing with an object for support, usually a side table with flowers.</h1><p>Composite of 14 photographs, 11 of them from the stars.archive and 3 from the artist’s family albums. Images include those from R. Dasen Studio in Coimbatore, Sundram Studio in Karaikudi, Victoria Studio in Madurai, Naidu & Sons Studio in Nagapattinam, Navakodi Studio in Thanjavur and Newtone Studio in Thoothukudi and others from unidentified sources.<br><br>“This archetype is actually not unique to Tamil photography. It points to longer exposure times where accessories, such as furniture, became a way to stabilize the subject. The objects themselves are interesting in that some in this cluster use ‘neoclassical’ backdrops such as pillars or carved wooden tables, but some are மோடா, a type of stool made from bamboo, or other rattan furniture.”</p><h1>Unknown Studio</h1><p>Unknown location, Tamil Nadu<br><br>On the lower left side of the child's face you can see a mark made with kajal (கண்மை). This mark is to ward off evil eye. </p>",
    "<h1>Children posing with an object for support, usually a side table with flowers.</h1><p>Composite of 14 photographs, 11 of them from the stars.archive and 3 from the artist’s family albums. Images include those from R. Dasen Studio in Coimbatore, Sundram Studio in Karaikudi, Victoria Studio in Madurai, Naidu & Sons Studio in Nagapattinam, Navakodi Studio in Thanjavur and Newtone Studio in Thoothukudi and others from unidentified sources.<br><br>“This archetype is actually not unique to Tamil photography. It points to longer exposure times where accessories, such as furniture, became a way to stabilize the subject. The objects themselves are interesting in that some in this cluster use ‘neoclassical’ backdrops such as pillars or carved wooden tables, but some are மோடா, a type of stool made from bamboo, or other rattan furniture.”</p><h1>Unknown Studio</h1><p>Unknown location, Tamil Nadu</p>",
    "<h1>Children posing with an object for support, usually a side table with flowers.</h1><p>Composite of 14 photographs, 11 of them from the stars.archive and 3 from the artist’s family albums. Images include those from R. Dasen Studio in Coimbatore, Sundram Studio in Karaikudi, Victoria Studio in Madurai, Naidu & Sons Studio in Nagapattinam, Navakodi Studio in Thanjavur and Newtone Studio in Thoothukudi and others from unidentified sources.<br><br>“This archetype is actually not unique to Tamil photography. It points to longer exposure times where accessories, such as furniture, became a way to stabilize the subject. The objects themselves are interesting in that some in this cluster use ‘neoclassical’ backdrops such as pillars or carved wooden tables, but some are மோடா, a type of stool made from bamboo, or other rattan furniture.”</p><h1>Unknown Studio</h1><p>Unknown location, Tamil Nadu</p>",
    "<h1>Children posing with an object for support, usually a side table with flowers.</h1><p>Composite of 14 photographs, 11 of them from the stars.archive and 3 from the artist’s family albums. Images include those from R. Dasen Studio in Coimbatore, Sundram Studio in Karaikudi, Victoria Studio in Madurai, Naidu & Sons Studio in Nagapattinam, Navakodi Studio in Thanjavur and Newtone Studio in Thoothukudi and others from unidentified sources.<br><br>“This archetype is actually not unique to Tamil photography. It points to longer exposure times where accessories, such as furniture, became a way to stabilize the subject. The objects themselves are interesting in that some in this cluster use ‘neoclassical’ backdrops such as pillars or carved wooden tables, but some are மோடா, a type of stool made from bamboo, or other rattan furniture.”</p><h1>Unknown Studio</h1><p>Unknown location, Tamil Nadu</p>",
    "<h1>Children posing with an object for support, usually a side table with flowers.</h1><p>Composite of 14 photographs, 11 of them from the stars.archive and 3 from the artist’s family albums. Images include those from R. Dasen Studio in Coimbatore, Sundram Studio in Karaikudi, Victoria Studio in Madurai, Naidu & Sons Studio in Nagapattinam, Navakodi Studio in Thanjavur and Newtone Studio in Thoothukudi and others from unidentified sources.<br><br>“This archetype is actually not unique to Tamil photography. It points to longer exposure times where accessories, such as furniture, became a way to stabilize the subject. The objects themselves are interesting in that some in this cluster use ‘neoclassical’ backdrops such as pillars or carved wooden tables, but some are மோடா, a type of stool made from bamboo, or other rattan furniture.”</p><h1>G.V. Naidu & Sons Studio</h1><p>Nagapattinam, Tamil Nadu<br><br>This child is wearing கண்மை (eyeliner).</p>",
    "<h1>Children posing with an object for support, usually a side table with flowers.</h1><p>Composite of 14 photographs, 11 of them from the stars.archive and 3 from the artist’s family albums. Images include those from R. Dasen Studio in Coimbatore, Sundram Studio in Karaikudi, Victoria Studio in Madurai, Naidu & Sons Studio in Nagapattinam, Navakodi Studio in Thanjavur and Newtone Studio in Thoothukudi and others from unidentified sources.<br><br>“This archetype is actually not unique to Tamil photography. It points to longer exposure times where accessories, such as furniture, became a way to stabilize the subject. The objects themselves are interesting in that some in this cluster use ‘neoclassical’ backdrops such as pillars or carved wooden tables, but some are மோடா, a type of stool made from bamboo, or other rattan furniture.”</p><h1>Unknown Studio</h1><p>This is photograph of my mother (Sudha Akkapeddi) as a baby. My grandmother stitched part of her dress. It has scenery from the nursery rhyme 'Mary had a little lamb.' My mother is wearing கண்மை (eyeliner).</p>",
    "<h1>Children posing with an object for support, usually a side table with flowers.</h1><p>Composite of 14 photographs, 11 of them from the stars.archive and 3 from the artist’s family albums. Images include those from R. Dasen Studio in Coimbatore, Sundram Studio in Karaikudi, Victoria Studio in Madurai, Naidu & Sons Studio in Nagapattinam, Navakodi Studio in Thanjavur and Newtone Studio in Thoothukudi and others from unidentified sources.<br><br>“This archetype is actually not unique to Tamil photography. It points to longer exposure times where accessories, such as furniture, became a way to stabilize the subject. The objects themselves are interesting in that some in this cluster use ‘neoclassical’ backdrops such as pillars or carved wooden tables, but some are மோடா, a type of stool made from bamboo, or other rattan furniture.”</p><h1>Navakodi Studio</h1><p>Thanjavur, Tamil Nadu<br><br>This baby is wearing an அரைஞாண்,a thread or chain, around his waist. It is part of a ritual done soon after a baby is born. It is worn as protection from evil eye and other negative energy. The baby is also leaning against a மோடா, or a type of stool made from bamboo. It was mentioned to me by a family member in the context of viewing a different photo that some babies might not have been clothed in photographs in order to show that they were male. </p>",
    "<h1>Children posing with an object for support, usually a side table with flowers.</h1><p>Composite of 14 photographs, 11 of them from the stars.archive and 3 from the artist’s family albums. Images include those from R. Dasen Studio in Coimbatore, Sundram Studio in Karaikudi, Victoria Studio in Madurai, Naidu & Sons Studio in Nagapattinam, Navakodi Studio in Thanjavur and Newtone Studio in Thoothukudi and others from unidentified sources.<br><br>“This archetype is actually not unique to Tamil photography. It points to longer exposure times where accessories, such as furniture, became a way to stabilize the subject. The objects themselves are interesting in that some in this cluster use ‘neoclassical’ backdrops such as pillars or carved wooden tables, but some are மோடா, a type of stool made from bamboo, or other rattan furniture.”</p><h1>Newtone Studio</h1><p>Thoothukudi, Tamil Nadu</p>",
    "<h1>Children posing with an object for support, usually a side table with flowers.</h1><p>Composite of 14 photographs, 11 of them from the stars.archive and 3 from the artist’s family albums. Images include those from R. Dasen Studio in Coimbatore, Sundram Studio in Karaikudi, Victoria Studio in Madurai, Naidu & Sons Studio in Nagapattinam, Navakodi Studio in Thanjavur and Newtone Studio in Thoothukudi and others from unidentified sources.<br><br>“This archetype is actually not unique to Tamil photography. It points to longer exposure times where accessories, such as furniture, became a way to stabilize the subject. The objects themselves are interesting in that some in this cluster use ‘neoclassical’ backdrops such as pillars or carved wooden tables, but some are மோடா, a type of stool made from bamboo, or other rattan furniture.”</p><h1>Unknown Studio</h1><p>This is a photograph of my uncle Seetharam Ramavarapu.</p>",
    "<h1>Children posing with an object for support, usually a side table with flowers.</h1><p>Composite of 14 photographs, 11 of them from the stars.archive and 3 from the artist’s family albums. Images include those from R. Dasen Studio in Coimbatore, Sundram Studio in Karaikudi, Victoria Studio in Madurai, Naidu & Sons Studio in Nagapattinam, Navakodi Studio in Thanjavur and Newtone Studio in Thoothukudi and others from unidentified sources.<br><br>“This archetype is actually not unique to Tamil photography. It points to longer exposure times where accessories, such as furniture, became a way to stabilize the subject. The objects themselves are interesting in that some in this cluster use ‘neoclassical’ backdrops such as pillars or carved wooden tables, but some are மோடா, a type of stool made from bamboo, or other rattan furniture.”</p><h1>Unknown Studio</h1><p>This is a photograph of my uncle Seetharam Ramavarapu.</p>"
]

let loader = document.getElementById("loader")
for(let i = 0; i < archive_images.length; i ++){
    let img = document.createElement("img");
    img.src = "assets/9/"+archive_images[i];
    img.id = "id-"+i;
    let referenceNode = document.querySelector('#wrapper');
    dragElement(img);
    referenceNode.appendChild(img)
    if(i == archive_images.length - 1){
      img.onload = function(){
        loader.classList.remove('on');
      }
    }
}

function dragElement(elmnt) {
  var pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
  if (document.getElementById(elmnt.id + "header")) {
    // if present, the header is where you move the DIV from:
    document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
  } else {
    // otherwise, move the DIV from anywhere inside the DIV:
    elmnt.onmousedown = dragMouseDown;
  }

  function dragMouseDown(e) {
    e = e || window.event;
    e.preventDefault();
    // get the mouse cursor position at startup:
    pos3 = e.clientX;
    pos4 = e.clientY;
    e.target.classList.add('on')

    document.querySelector("#text").innerHTML = text[parseInt(e.target.id.split("-")[1])];
    document.onmouseup = closeDragElement;
    // call a function whenever the cursor moves:
    document.onmousemove = elementDrag;
  }

  function elementDrag(e) {
    e = e || window.event;
    e.preventDefault();
    let els = document.querySelectorAll("#history img");
    for(let i = 0; i < els.length; i ++){
      els[i].classList.remove("on")
    }
    // calculate the new cursor position:
    pos1 = pos3 - e.clientX;
    pos2 = pos4 - e.clientY;
    pos3 = e.clientX;
    pos4 = e.clientY;
    // set the element's new position:
    elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
    elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
  }

  function closeDragElement(e) {
    // stop moving when mouse button is released:
    document.onmouseup = null;
    document.onmousemove = null;
    e.target.classList.remove('on')
    let hist = document.querySelector("#history-icons");
    let newDiv = document.createElement("div");
    if(e.target.src){
      let newEl = document.createElement('img')
      let rest = e.target.src.substring(0, e.target.src.lastIndexOf("/") + 1);
      let last = e.target.src.substring(e.target.src.lastIndexOf("/") + 1, e.target.src.length);
      newEl.src = rest + "small/" + last
      newEl.id = "icon"+e.target.id
      hist.insertBefore(newEl,hist.firstChild)
      newEl.addEventListener("click", function(){
        if(this.classList.contains("on")){
          this.classList.remove("on")
          document.querySelector("#text").innerHTML = ogtext;
        }else{
          let els = document.querySelectorAll("#history img");
          for(let i = 0; i < els.length; i ++){
            els[i].classList.remove("on")
          }
          this.classList.add("on")
          document.querySelector("#text").innerHTML = text[parseInt(this.id.split("-")[1])];
        }
      })
      let label = document.querySelector("#hist-label");
      label.classList.add('on')
    }
    document.querySelector("#text").innerHTML = ogtext;
    e.target.classList.add('moved');
    let imgs = document.querySelectorAll("img");
    let count = 0;
    for(let i = 0; i < imgs.length; i ++){
        if(imgs[i].classList.contains("moved")){
            count = count + 1;
        }
    }
    if(count == imgs.length){
        document.querySelector("#over").classList.add('on')
    }
  }
}

